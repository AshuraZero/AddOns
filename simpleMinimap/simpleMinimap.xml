<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

  <Script file="localization.lua"/>
  <Script file="simpleMinimap.lua"/>

  <Frame name="simpleMinimap" parent="Minimap" topLevel="true">
    <Scripts>
      <OnLoad>smm_onLoad()</OnLoad>
      <OnEvent>smm_onEvent()</OnEvent>
      <OnMouseWheel>smm_minimapZoom(arg1)</OnMouseWheel>
    </Scripts>
    <Size><AbsDimension x="112" y="112"/></Size>
    <Anchors><Anchor point="CENTER"/></Anchors>
  </Frame>
  
  <Frame name="smm_ping" parent="MiniMapPing" frameStrata="TOOLTIP" alphaMode="ADD">
    <Size><AbsDimension x="10" y="32"/></Size>
    <Anchors><Anchor point="TOP" relativeTo="Minimap"/></Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
      <EdgeSize><AbsValue val="16"/></EdgeSize>
      <TileSize><AbsValue val="16"/></TileSize>
      <BackgroundInsets><AbsInset left="5" right="5" top="5" bottom="5"/></BackgroundInsets>
    </Backdrop>
    <Layers>
      <Layer level="ARTWORK">
        <FontString name="$parentText" inherits="GameFontNormalSmall">
          <Anchors><Anchor point="CENTER"/></Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Scripts>
      <OnLoad>
        this:SetBackdropBorderColor(TOOLTIP_DEFAULT_COLOR.r, TOOLTIP_DEFAULT_COLOR.g, TOOLTIP_DEFAULT_COLOR.b)
        this:SetBackdropColor(TOOLTIP_DEFAULT_BACKGROUND_COLOR.r, TOOLTIP_DEFAULT_BACKGROUND_COLOR.g, TOOLTIP_DEFAULT_BACKGROUND_COLOR.b)
        this:SetAlpha(0.85)
        this:SetScale(0.95)
      </OnLoad>
    </Scripts>
  </Frame>

  <Frame name="smm_moverTemplate" parent="UIParent" topLevel="true" enableMouse="true" virtual="true">
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background"/>
    <Scripts>
      <OnDragStart>smm_frameDrag(true,this.smmName)</OnDragStart>
      <OnDragStop>smm_frameDrag(false,this.smmName)</OnDragStop>
      <OnEnter>
        GameTooltip:SetOwner(this,"ANCHOR_CURSOR")
        GameTooltip:SetText("|cFFF5B800left-click to drag |cFFFFFF99"..this.smmMover)
      </OnEnter>
      <OnLeave>GameTooltip:Hide()</OnLeave>
    </Scripts>
  </Frame>
  
  <Frame name="smm_questMover" inherits="smm_moverTemplate">
    <Anchors><Anchor point="CENTER" relativeTo="QuestWatchFrame"/></Anchors>
    <Size><AbsDimension x="280" y="80"/></Size>
    <Scripts>
      <OnLoad>
        this.smmMover = "QuestWatchFrame"
        this.smmName = "quest"
        QuestWatchFrame:SetMovable(true)
        this:RegisterForDrag("LeftButton")
        this:SetAlpha(0.4)
      </OnLoad>
    </Scripts>
  </Frame>
  
  <Frame name="smm_dollMover" inherits="smm_moverTemplate">
    <Anchors><Anchor point="CENTER" relativeTo="DurabilityFrame"/></Anchors>
    <Size><AbsDimension x="60" y="65"/></Size>
    <Scripts>
      <OnLoad>
        this.smmMover = "DurabilityFrame"
        this.smmName = "doll"
        DurabilityFrame:SetMovable(true)
        this:RegisterForDrag("LeftButton")
        this:SetAlpha(0.4)
      </OnLoad>
    </Scripts>
  </Frame>

  <Frame name="smm_timerMover" inherits="smm_moverTemplate">
    <Anchors><Anchor point="CENTER" relativeTo="QuestTimerFrame"/></Anchors>
    <Size><AbsDimension x="160" y="72"/></Size>
    <Scripts>
      <OnLoad>
        this.smmMover = "QuestTimerFrame"
        this.smmName = "timer"
        QuestTimerFrame:SetMovable(true)
        this:RegisterForDrag("LeftButton")
        this:SetAlpha(0.4)
      </OnLoad>
    </Scripts>
  </Frame>

</Ui>
